# ??????????

????????????????????,???????????????? vectorbt ???,??????????????,????????

## ????

`
.
+- backtests/              # ???????(parquet ???? backtests/results)
+- conf/                   # ??? / ??? / ????
+- data/
¦  +- raw/                 # ????(CCXT ?? + Binance Vision ????)
¦  +- clean/               # ??????????????
+- scripts/                # ?????:????????
+- requirements.txt        # ??????
+- README.md
`

## ? 0 ?:????

`powershell
python -m venv venv
# Windows PowerShell
.\venv\Scripts\Activate.ps1

pip install -U -r requirements.txt
`

> ??:??????????(??? vectorbt / numba),?????;??????????

## ? 1 ?:??????

?? conf/symbols.yaml(??)

`yaml
exchange: binanceus
type: spot
symbols:
  - BTC/USDT
  - ETH/USDT
timeframes:
  - 1h
start: "2024-01-01"
end: null      # null ???????
store_as: parquet
`

- ??????????,??? symbols / 	imeframes ???????
- ???????????? Binance ??,?? exchange ?? inance?

## ? 2 ?:?? CCXT ???? K ?

`powershell
.\venv\Scripts\python scripts/fetch_ccxt_ohlcv.py --conf conf/symbols.yaml
`

- ??????????,????;
- ???????????? K ?;
- ???? data/raw/exchange=.../symbol=.../tf=...parquet?

## ? 3 ?(??):?? Binance Vision ?????

`powershell
.\venv\Scripts\python scripts/fetch_binance_bulk.py --conf conf/symbols.yaml --limit-months 4
`

- ?????? limit-months ????,??? ZIP ??? CHECKSUM ????;
- Binance ?????????????(????????)?

## ? 4 ?:??????

`powershell
.\venv\Scripts\python scripts/clean_ohlcv.py --conf conf/symbols.yaml
`

- ?? data/raw/ ?????,????????????;
- ????:data/clean/exchange=.../symbol=.../tf=.../YYYYMM=data.parquet;
- ???? data/clean/summary.parquet(????????????????)?

## ? 5 ?:????????

`powershell
.\venv\Scripts\python scripts/dq_report.py --conf conf/symbols.yaml
`

- ??????????????;
- ??????????? data/clean/dq_report.parquet?

## ? 6 ?:?? vectorbt MA+RSI ??

`powershell
.\venv\Scripts\python backtests/vbt_ma_rsi.py --conf conf/symbols.yaml
`

- ?????????,? 70% / 30% ???????;
- ????:
  - ast_windows = [10, 20]
  - slow_windows = [50, 100]
  - si_windows = [14, 21]
  - si_entries = [25, 30]
  - si_exits = [65, 70]
- ???? 0.1%,?? 0.05%,?? 2%,?? 4%;
- ????????????;
- ???? acktests/results/<symbol>_<timeframe>_ma_rsi.parquet,???????????????????

## ????

1. **?????? / ???**:?? conf/symbols.yaml ??????? 2-6?
2. **??????**:???? DuckDB / Polars ?? acktests/results/*.parquet ?????????????
3. **?????**:???????????(? cron / Windows ????),????????
4. **??????**:? acktests/vbt_ma_rsi.py ?????????????????????

## ????

- 2025-09-26:?? CCXT + Binance Vision ?????????????vectorbt ??????